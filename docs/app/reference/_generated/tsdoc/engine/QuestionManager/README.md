[**babylon v0.1.0**](../../README.md)

***

[babylon](../../README.md) / engine/QuestionManager

# engine/QuestionManager

Babylon Question Manager

## Description

Manages the complete lifecycle of prediction market questions in the Babylon game.
Questions are the core mechanic that drives events, NPC behavior, and player betting.

**Core Responsibilities:**
- Generate new questions daily (1-3 per day) based on scenarios and recent events
- Track active questions (max 20 concurrent)
- Resolve questions when resolution date is reached (24h-7d from creation)
- Generate resolution events that definitively prove outcomes
- Ensure game events are aligned with active questions

**Question Lifecycle:**
1. **Creation** - Generated by LLM with resolutionDate 24h-7d in future
2. **Active** - Appears in markets, events generated around it, tradable
3. **Resolved** - Outcome determined, positions settled, no longer tradable
4. **Cancelled** - Removed without resolution (rare, edge cases only)

**Generation Strategy:**
- Uses LLM to create contextually relevant questions
- Considers recent events and current storylines
- Avoids duplicate or overlapping questions
- Ensures questions align with available actors and organizations

**Resolution Timing:**
- Questions resolve 1-7 days after creation
- Longer timespans for complex questions (mergers, investigations)
- Shorter timespans for urgent developments (announcements, scandals)
- Resolution event generated to prove outcome definitively

## See

 - GameEngine - Uses QuestionManager to generate daily questions
 - FeedGenerator - Creates posts and discussions about active questions

## Example

```typescript
const qm = new QuestionManager(llmClient);

// Generate new questions
const questions = await qm.generateDailyQuestions({
  currentDate: '2025-10-15',
  scenarios,
  actors,
  organizations,
  activeQuestions: [],
  recentEvents: [],
  nextQuestionId: 1
});

// Check for questions to resolve
const toResolve = qm.getQuestionsToResolve(activeQuestions, '2025-10-16');

// Resolve a question
const resolved = qm.resolveQuestion(question, true); // true = YES outcome
```

## Classes

- [QuestionManager](classes/QuestionManager.md)

## Interfaces

- [QuestionCreationParams](interfaces/QuestionCreationParams.md)
