# ============================================================================
# Babylon Game - Environment Variables Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control!

# ============================================================================
# Application Configuration
# ============================================================================
# Application URL (used for referral links and redirects)
NEXT_PUBLIC_APP_URL=https://babylon.market

# Node Environment (production, development, test)
NODE_ENV=development

# ============================================================================
# Database Configuration
# ============================================================================
# PostgreSQL Database URL (Primary - used by Prisma)
# Format: postgresql://username:password@host:port/database
DATABASE_URL=

# PostgreSQL URL (Alternative - used by Eliza agents)
# If not set, will use DATABASE_URL
POSTGRES_URL=

# PGlite Data Directory (Development - Embedded Database)
# Only used if POSTGRES_URL is not set
# PGLITE_DATA_DIR=./data/pglite

# ============================================================================
# Privy Authentication Configuration
# ============================================================================
# Get these from https://dashboard.privy.io
NEXT_PUBLIC_PRIVY_APP_ID=your_privy_app_id_here
PRIVY_APP_SECRET=your_privy_app_secret_here

# ============================================================================
# Blockchain Configuration (Web3 Integration)
# ============================================================================
# Chain ID: 8453 (Base Mainnet) or 84532 (Base Sepolia Testnet)
NEXT_PUBLIC_CHAIN_ID=84532

# RPC URL for the selected chain
NEXT_PUBLIC_RPC_URL=https://sepolia.base.org

# Alternative RPC URL (used by A2A integration)
BASE_SEPOLIA_RPC_URL=https://sepolia.base.org

# WalletConnect Project ID (get from https://cloud.walletconnect.com)
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=your_walletconnect_project_id

# ============================================================================
# Smart Contract Addresses (Base Sepolia Testnet)
# ============================================================================
# These are filled after deploying contracts
NEXT_PUBLIC_IDENTITY_REGISTRY_BASE_SEPOLIA=0x0000000000000000000000000000000000000000
NEXT_PUBLIC_REPUTATION_SYSTEM_BASE_SEPOLIA=0x0000000000000000000000000000000000000000
NEXT_PUBLIC_DIAMOND_BASE_SEPOLIA=0x0000000000000000000000000000000000000000

# Smart Contract Addresses (Base Mainnet)
# NEXT_PUBLIC_IDENTITY_REGISTRY_BASE=0x0000000000000000000000000000000000000000
# NEXT_PUBLIC_REPUTATION_SYSTEM_BASE=0x0000000000000000000000000000000000000000
# NEXT_PUBLIC_DIAMOND_BASE=0x0000000000000000000000000000000000000000

# ============================================================================
# Deployment Configuration (Server-Side Only)
# ============================================================================
# Deployer wallet private key (NEVER commit the real .env file!)
# Used for on-chain registrations and contract deployments
DEPLOYER_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000

# Optional: Fee recipient address (defaults to deployer if not set)
# FEE_RECIPIENT=0x0000000000000000000000000000000000000000

# Block Explorer API Keys (for contract verification)
# Generic Etherscan API key (used by scripts and Foundry)
ETHERSCAN_API_KEY=your_api_key_here

# Base Sepolia specific (if different from generic)
BASE_SEPOLIA_ETHERSCAN_API_KEY=your_api_key_here

# Base Mainnet specific (if different from generic)
BASE_ETHERSCAN_API_KEY=your_api_key_here

# ============================================================================
# Storage Configuration (Image Uploads)
# ============================================================================
# Production: Use Vercel Blob (automatic in Vercel deployments)
# Set USE_VERCEL_BLOB=true to force Vercel Blob even in development
USE_VERCEL_BLOB=false

# Vercel Blob Token (automatically available in Vercel environment)
# Only needed if manually configuring Vercel Blob outside of Vercel
# BLOB_READ_WRITE_TOKEN=your_vercel_blob_token

# Development: MinIO Configuration (S3-compatible local storage)
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=babylon
MINIO_SECRET_KEY=babylon_dev_password
MINIO_BUCKET=babylon-uploads

# ============================================================================
# Babylon Agent Authentication
# ============================================================================
# These credentials enable agents to authenticate internally without requiring
# users to provide Privy authentication tokens manually.
# Generate a secure random string for BABYLON_AGENT_SECRET (e.g., using openssl rand -hex 32)

# Agent ID (must match the agent configuration)
BABYLON_AGENT_ID=babylon-agent-alice

# Agent Secret (keep this secure! Generate with: openssl rand -hex 32)
BABYLON_AGENT_SECRET=your_secure_random_secret_here_32_bytes_minimum

# ============================================================================
# AI Model Provider Configuration (for Eliza Agents)
# ============================================================================
# At least one API key is required for agent functionality
# Groq is prioritized over OpenAI for faster inference
OPENAI_API_KEY=your_openai_api_key_here
GROQ_API_KEY=your_groq_api_key_here
# ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ============================================================================
# Image Generation Configuration
# ============================================================================
# Fal.ai API key for generating actor and organization images
# Get from https://fal.ai/dashboard
FAL_KEY=your_fal_ai_api_key_here

# ============================================================================
# Agent Behavior Configuration (Optional)
# ============================================================================
# Enable blockchain integration for agent discovery (A2A)
# A2A_ENABLE_BLOCKCHAIN=false

# Auto-start agents on daemon startup (default: true)
# AUTO_START_AGENTS=true

# Enable automatic trading for agents (default: false)
AGENT_AUTO_TRADE=false

# ============================================================================
# Logging Configuration (Optional)
# ============================================================================
# Log level: debug, info, warn, error (default: debug in dev, info in production)
LOG_LEVEL=debug

# A2A specific log level
# A2A_LOG_LEVEL=info

# ============================================================================
# Market Configuration (Optional - can be set after deployment)
# ============================================================================
# DEFAULT_LIQUIDITY=1000000000000000000000  # 1000 ETH in wei
# DEFAULT_FEE_RATE=100  # 100 basis points = 1%

# ============================================
# SENTRY ERROR TRACKING (Optional)
# ============================================
# Sentry DSN for error tracking and performance monitoring
# Get your DSN from https://sentry.io/settings/projects/
NEXT_PUBLIC_SENTRY_DSN="https://your-dsn@sentry.io/project-id"
SENTRY_DSN="https://your-dsn@sentry.io/project-id"

# Source Map Upload (Optional - for better stack traces in production)
# Get auth token from https://sentry.io/settings/account/api/auth-tokens/
SENTRY_ORG="your-org"
SENTRY_PROJECT="your-project"
SENTRY_AUTH_TOKEN="your-auth-token"

# Release Tracking (Optional - set via CI/CD or manually)
# Format: version or git commit hash
NEXT_PUBLIC_SENTRY_RELEASE=""
SENTRY_RELEASE=""
# ============================================================================
# Perpetuals Settlement Mode Configuration
# ============================================================================
# Bridges off-chain trading engine with on-chain Diamond contracts
#
# Settlement mode determines how perpetual futures trades are settled:
# - offchain: Fast MVP trading with database persistence (default, no gas fees)
# - onchain: All trades settle to blockchain (decentralized, trustless)
# - hybrid: Off-chain execution with periodic on-chain settlement
#           Best of both worlds - fast trading + blockchain security
NEXT_PUBLIC_PERP_SETTLEMENT_MODE=offchain

# On-chain features (only used in onchain/hybrid modes)
# Enable DeFi mode with blockchain settlement
NEXT_PUBLIC_ENABLE_ONCHAIN_PERPS=false

# Enable on-chain referral system
NEXT_PUBLIC_ENABLE_REFERRALS=false

# Enable on-chain liquidity pools (AMM)
NEXT_PUBLIC_ENABLE_LIQUIDITY_POOLS=false

# Diamond contract address (required for onchain/hybrid modes)
# Use NEXT_PUBLIC_DIAMOND_BASE_SEPOLIA from above or set a specific address
NEXT_PUBLIC_DIAMOND_ADDRESS=

# Hybrid mode settings (only used when NEXT_PUBLIC_PERP_SETTLEMENT_MODE=hybrid)
# Batch settlement interval in milliseconds (default: 3600000 = 1 hour)
NEXT_PUBLIC_HYBRID_BATCH_INTERVAL=3600000

# Maximum positions to settle per batch (default: 100)
NEXT_PUBLIC_HYBRID_BATCH_SIZE=100

# Async settlement (true = don't wait for blockchain confirmation, faster UX)
NEXT_PUBLIC_ASYNC_SETTLEMENT=true

# Number of retry attempts for failed settlements (default: 3)
NEXT_PUBLIC_SETTLEMENT_RETRIES=3

# Oracle Configuration Example
# Copy relevant values to your .env file

# Oracle Contracts (auto-set by deployment)
NEXT_PUBLIC_BABYLON_ORACLE=0x5FbDB2315678afecb367f032d93F642f64180aa3
NEXT_PUBLIC_PREDIMARKET=0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
NEXT_PUBLIC_MARKET_FACTORY=0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0
NEXT_PUBLIC_CONTEST_ORACLE=0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9
NEXT_PUBLIC_TEST_TOKEN=0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9

# Oracle Publishing (server-side only, keep secret!)
# Localnet (Anvil account #1)
ORACLE_PRIVATE_KEY=0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d

# Testnet/Mainnet (create dedicated wallet)
# ORACLE_PRIVATE_KEY=0x... # Your dedicated oracle wallet

# Encryption Key (generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
ORACLE_ENCRYPTION_KEY=your-32-byte-hex-key-change-in-production-please

# Optional: Gas Configuration
ORACLE_GAS_MULTIPLIER=1.2
ORACLE_MAX_GAS_PRICE=100
ORACLE_CONFIRMATIONS=1
